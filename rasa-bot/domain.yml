version: "3.1"

intents:
  - greet
  - goodbye
  - thank_you
  - mood_great
  - mood_unhappy
  - bot_challenge
  - how_are_you
  - who_are_you
  - what_can_you_do
  - retrieve_client
  - retrieve_appointment
  - retrieve_patient
  - list_appointments
  - faq
  - trigger_intro

entities:
  - client_name
  - reference_number
  - name
  - pet_name
  - date

slots:
  client_name:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: client_name

  reference_number:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: reference_number

  name:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: name

  pet_name:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: pet_name

  date:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: date

responses:
  utter_default:
    - text: "Sorry, I didn’t quite get that. Could you rephrase?"
    - text: "Hmm, I’m not sure I understood. Can you try again?"
    - text: "I’m not sure I understood that. Could you clarify?"

  utter_intro:
  - text: |
      Hi there! I’m PawPal, your assistant for the South Paws Veterinary Hospital HMS.  
      Here are some quick things I can help you with:
    buttons:
      - title: "View today’s appointments"
        payload: "/list_appointments"
      - title: "Retrieve a client record"
        payload: "/retrieve_client"
      - title: "Retrieve a patient record"
        payload: "/retrieve_patient"
      - title: "Retrieve an appointment"
        payload: "/retrieve_appointment"
      - title: "Help using appointments page"
        payload: "/faq"
    
  utter_greet:
    - text: "Hey! How can I help?"
    - text: "Hello! What can I help you with today?"
    - text: "Hi there!"

  utter_goodbye:
    - text: "See you later!"
    - text: "Goodbye!"

  utter_thank_you:
    - text: "You’re welcome!"
    - text: "Glad I could help!"
    - text: "No problem!"

  utter_mood_great:
    - text: "That’s awesome to hear!"
    - text: "Great! Keep it up."
    - text: "Glad you’re doing well!"

  utter_mood_unhappy:
    - text: "You’ve got this. And if you don’t, I’ve got you."
    - text: "Sadness detected. Deploying digital hugs."
    - text: "Don’t worry, you’re not alone. I’m literally programmed to stick around."

  utter_bot_challenge:
     - text: "I’m just your friendly neighborhood chatbot. No cape, just code."
     - text: "I’m PawPal, your personal AI assistant."

  utter_how_are_you:
    - text: "I’m doing great, thanks for asking!"
    - text: "All good here, ready to help you!"

  utter_who_are_you:
    - text: "I’m PawPal, your personal AI assistant."

  utter_what_can_you_do:
    - text: |
        Here’s what I can do right now:
        • Retrieve client, patient, and appointment records
        • Look up appointments using reference number, name, or date
        • List and filter bookings by date (e.g., today, tomorrow, specific dates)
        • Provide quick guidance on using the new appointment system

  utter_faq/appointments_add:
    - text: "To add an appointment, click the **Add Appointment** button or click an empty slot in the calendar to prefill the date and time."

  utter_faq/appointments_statuses:
    - text: "The boxes show the number of appointments by status: Pending, Confirmed, Cancelled, and Done. Clicking a box opens the list for that status."

  utter_faq/appointments_tag_arrived:
    - text: "Use the **Tag as Arrived** button when a patient arrives. A modal will open for marking them as arrived."

  utter_faq/appointments_filter:
    - text: "Use the dropdown above the calendar to filter by doctor or view all appointments."

  utter_faq/appointments_view:
    - text: "Clicking on an appointment opens a modal with details like client info, pet details, services, doctor, and status. From there you can also edit or delete (if cancelled)."

  utter_faq/appointments_delete:
    - text: "You can only delete cancelled appointments. Open the appointment, click delete, and confirm to remove it."

  utter_faq/appointments_calendar_views:
    - text: "You can switch the calendar view to **Day, Week, or Month** to see appointments in different timeframes."

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true

actions:
  - action_retrieve_client
  - action_retrieve_appointment
  - action_retrieve_patient
  - action_list_appointments
